{"remainingRequest":"/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/Users/wangzewei/Documents/Github/tamarous_blog/docs/Aspects 源码分析.md?vue&type=template&id=d1e93032&","dependencies":[{"path":"/Users/wangzewei/Documents/Github/tamarous_blog/docs/Aspects 源码分析.md","mtime":1613119362132},{"path":"/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/cache-loader/dist/cjs.js","mtime":1613018705888},{"path":"/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1613018706999},{"path":"/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/cache-loader/dist/cjs.js","mtime":1613018705888},{"path":"/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/vue-loader/lib/index.js","mtime":1613018706999},{"path":"/Users/wangzewei/Documents/Github/tamarous_blog/node_modules/@vuepress/markdown-loader/index.js","mtime":1613117917707}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CjxDb250ZW50U2xvdHNEaXN0cmlidXRvciA6c2xvdC1rZXk9IiRwYXJlbnQuc2xvdEtleSI+PGgxIGlkPSJhc3BlY3RzLea6kOeggeWIhuaekCI+PGEgY2xhc3M9ImhlYWRlci1hbmNob3IiIGhyZWY9IiNhc3BlY3RzLea6kOeggeWIhuaekCI+IzwvYT4gQXNwZWN0cyDmupDnoIHliIbmnpA8L2gxPgo8cD48YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vc3RlaXBldGUvQXNwZWN0cyIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIgbm9yZWZlcnJlciI+QXNwZWN0czxPdXRib3VuZExpbmsvPjwvYT7mmK/kuIDkuKrnlKjkuo7lrp7njrDpnaLlkJHliIfniYfnvJbnqIvvvIhBT1AsIEFzcGVjdC1vcmllbnRlZCBwcm9ncmFtbWluZyDvvInmgJ3mg7PnmoTnrKzkuInmlrnlupPjgILpnaLlkJHliIfniYfnvJbnqIvvvIzmjIfnmoTmmK/lnKjov5DooYzml7bvvIzliqjmgIHlnLDlsIbku6PnoIHliIflhaXliLDnsbvnmoTmjIflrprmlrnms5XjgIHmjIflrprkvY3nva7kuIrvvIzku47ogIzlvpfliLDmlLnlj5jmlrnms5XnmoTlrp7njrDnmoTnm67nmoTjgILnlLHkuo4gT2JqZWN0aXZlLUMg5pys6Lqr5piv5LiA6Zeo6Z2e5bi45Yqo5oCB55qE6K+t6KiA77yM5Zug5q2kIEFPUCDlnKggT2JqZWN0aXZlLUMg6L+Z6Zeo6K+t6KiA5Lit5b6I5a655piT5Yip55SoIFJ1bnRpbWUg6L+b6KGM5a6e546w44CCCui/meS4quW6k+mHjOeahOS7o+eggeS4jeWkmu+8jOWPquaciTxjb2RlPkFzcGVjdHMuaDwvY29kZT7lkow8Y29kZT5Bc3BlY3RzLm08L2NvZGU+5Lik5Liq5paH5Lu244CC5aS05paH5Lu26YeM5a6a5LmJ5LqG5LiA5LiqIE5TT2JqZWN0IOeahOWIhuexu++8jOe7meaJgOaciSBOU09iamVjdCDnmoTlrZDnsbvmt7vliqDkuoblpoLkuIvkuKTkuKrmlrnms5XvvJo8L3A+CjwhLS1iZWZvcmViZWdpbi0tPjxkaXYgY2xhc3M9Imxhbmd1YWdlLSBleHRyYS1jbGFzcyI+PCEtLWFmdGVyYmVnaW4tLT48cHJlIHYtcHJlIGNsYXNzPSJsYW5ndWFnZS10ZXh0Ij48Y29kZT4rIChpZCZsdDtBc3BlY3RUb2tlbiZndDspYXNwZWN0X2hvb2tTZWxlY3RvcjooU0VMKXNlbGVjdG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhPcHRpb25zOihBc3BlY3RPcHRpb25zKW9wdGlvbnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzaW5nQmxvY2s6KGlkKWJsb2NrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOihOU0Vycm9yICoqKWVycm9yOwoKLy8vIEFkZHMgYSBibG9jayBvZiBjb2RlIGJlZm9yZS9pbnN0ZWFkL2FmdGVyIHRoZSBjdXJyZW50IGBzZWxlY3RvcmAgZm9yIGEgc3BlY2lmaWMgaW5zdGFuY2UuCi0gKGlkJmx0O0FzcGVjdFRva2VuJmd0Oylhc3BlY3RfaG9va1NlbGVjdG9yOihTRUwpc2VsZWN0b3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aE9wdGlvbnM6KEFzcGVjdE9wdGlvbnMpb3B0aW9ucwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNpbmdCbG9jazooaWQpYmxvY2sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6KE5TRXJyb3IgKiopZXJyb3I7CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPuesrOS4gOS4quaYr+exu+aWueazle+8jOiAjOWPpuS4gOS4quaYr+WunuS+i+aWueazle+8jOWFtuWunuWGhemDqOmDveiwg+eUqOS6huWQjOagt+eahOaWueazle+8jOWPquS4jei/h+S8oOe7memCo+S4quaWueazleeahOWPguaVsOeojeW+ruacieS6m+WMuuWIq+OAggrkuIvpnaLmiJHku6zlsLHnu5PlkIjnnYA8Y29kZT5Bc3BlY3RzPC9jb2RlPue7meWHuueahOS4gOS4qiBEZW1vIOadpeWIhuaekOWug+eahOWGhemDqOWBmuS6huS7gOS5iOS6i+aDheOAgkRlbW8g55qE5qC45b+D5Luj56CB5piv5LiL6Z2i6L+Z5LmI5LiA5q6177yM5Lmf5bCx5piv5b2T5oiR5Lus54K55Ye7IGJ1dHRvbiDlkI7vvIzkvJrlh7rnjrDnhafniYfpgInlj5bnmoQgPGNvZGU+VUlJbWFnZVBpY2tlckNvbnRyb2xsZXI8L2NvZGU+77yM6ICM5ZyoPGNvZGU+VUlJbWFnZVBpY2tlckNvbnRyb2xsZXI8L2NvZGU+55qEPGNvZGU+dmlld1dpbGxEaXNhcHBlYXI8L2NvZGU+5pa55rOV6KKr6LCD55So5pe277yM56iL5bqP5q2k5pe25bCx5Lya6LCD55So5oiR5Lus6K6+572u55qE6ZKp5a2Q5Ye95pWw77yM5pi+56S65LiA5LiqIFVJQWxlcnRWaWV344CCPC9wPgo8IS0tYmVmb3JlYmVnaW4tLT48ZGl2IGNsYXNzPSJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiPjwhLS1hZnRlcmJlZ2luLS0+PHByZSB2LXByZSBjbGFzcz0ibGFuZ3VhZ2UtdGV4dCI+PGNvZGU+LSAoSUJBY3Rpb24pYnV0dG9uUHJlc3NlZDooaWQpc2VuZGVyIHsKICAgIFVJVmlld0NvbnRyb2xsZXIgKnRlc3RDb250cm9sbGVyID0gW1tVSUltYWdlUGlja2VyQ29udHJvbGxlciBhbGxvY10gaW5pdF07CgogICAgdGVzdENvbnRyb2xsZXIubW9kYWxQcmVzZW50YXRpb25TdHlsZSA9IFVJTW9kYWxQcmVzZW50YXRpb25Gb3JtU2hlZXQ7CiAgICBbc2VsZiBwcmVzZW50Vmlld0NvbnRyb2xsZXI6dGVzdENvbnRyb2xsZXIgYW5pbWF0ZWQ6WUVTIGNvbXBsZXRpb246TlVMTF07CgogICAgLy8gV2UgYXJlIGludGVyZXN0ZWQgaW4gYmVpbmcgbm90aWZpZWQgd2hlbiB0aGUgY29udHJvbGxlciBpcyBiZWluZyBkaXNtaXNzZWQuCiAgICBbdGVzdENvbnRyb2xsZXIgYXNwZWN0X2hvb2tTZWxlY3RvcjpAc2VsZWN0b3Iodmlld1dpbGxEaXNhcHBlYXI6KSB3aXRoT3B0aW9uczowIHVzaW5nQmxvY2s6XihpZCZsdDtBc3BlY3RJbmZvJmd0OyBpbmZvLCBCT09MIGFuaW1hdGVkKSB7CiAgICAgICAgVUlWaWV3Q29udHJvbGxlciAqY29udHJvbGxlciA9IFtpbmZvIGluc3RhbmNlXTsKICAgICAgICBpZiAoY29udHJvbGxlci5pc0JlaW5nRGlzbWlzc2VkIHx8IGNvbnRyb2xsZXIuaXNNb3ZpbmdGcm9tUGFyZW50Vmlld0NvbnRyb2xsZXIpIHsKICAgICAgICAgICAgW1tbVUlBbGVydFZpZXcgYWxsb2NdIGluaXRXaXRoVGl0bGU6QCZxdW90O1BvcHBlZCZxdW90OyBtZXNzYWdlOkAmcXVvdDtIZWxsbyBmcm9tIEFzcGVjdHMmcXVvdDsgZGVsZWdhdGU6bmlsIGNhbmNlbEJ1dHRvblRpdGxlOm5pbCBvdGhlckJ1dHRvblRpdGxlczpAJnF1b3Q7T2smcXVvdDssIG5pbF0gc2hvd107CiAgICAgICAgfQogICAgfSBlcnJvcjpOVUxMXTsKCiAgICAvLyBIb29raW5nIGRlYWxsb2MgaXMgZGVsaWNhdGUsIG9ubHkgQXNwZWN0UG9zaXRpb25CZWZvcmUgd2lsbCB3b3JrIGhlcmUuCiAgICBbdGVzdENvbnRyb2xsZXIgYXNwZWN0X2hvb2tTZWxlY3RvcjpOU1NlbGVjdG9yRnJvbVN0cmluZyhAJnF1b3Q7ZGVhbGxvYyZxdW90Oykgd2l0aE9wdGlvbnM6QXNwZWN0UG9zaXRpb25CZWZvcmUgdXNpbmdCbG9jazpeKGlkJmx0O0FzcGVjdEluZm8mZ3Q7IGluZm8pIHsKICAgICAgICBOU0xvZyhAJnF1b3Q7Q29udHJvbGxlciBpcyBhYm91dCB0byBiZSBkZWFsbG9jYXRlZDogJUAmcXVvdDssIFtpbmZvIGluc3RhbmNlXSk7CiAgICB9IGVycm9yOk5VTExdOwp9CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPjxjb2RlPnRlc3RDb250cm9sbGVyPC9jb2RlPiBIb29rIOS6huS4pOS4qjxjb2RlPnZpZXdXaWxsRGlzYXBwZWFyOjwvY29kZT7lkow8Y29kZT5kZWFsbG9jPC9jb2RlPui/meS4pOS4quaWueazleOAgm9wdGlvbnMg5oyH5a6a5LqGIEhvb2sg55qE5pe25py677yM5Y+v5Lul5Zyo5oyH5a6a55qE5pe25py65omn6KGMIGJsb2NrIOWGheeahOaWueazle+8mjwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPnR5cGVkZWYgTlNfT1BUSU9OUyhOU1VJbnRlZ2VyLCBBc3BlY3RPcHRpb25zKSB7CiAgICBBc3BlY3RQb3NpdGlvbkFmdGVyICAgPSAwLCAgICAgICAgICAgIC8vLyDlnKjljp/lp4vmlrnms5XmiafooYzlkI7nlJ/mlYjvvIjpu5jorqTvvIkgICAgICAgIAogICAgQXNwZWN0UG9zaXRpb25JbnN0ZWFkID0gMSwgICAgICAgICAgICAvLy8g5pu/5o2i5Y6f5aeL5pa55rOVCiAgICBBc3BlY3RQb3NpdGlvbkJlZm9yZSAgPSAyLCAgICAgICAgICAgIC8vLyDlnKjljp/lp4vmlrnms5XmiafooYzliY3nlJ/mlYgKICAgIEFzcGVjdE9wdGlvbkF1dG9tYXRpY1JlbW92YWwgPSAxICZsdDsmbHQ7IDMgLy8vIOWPquaJp+ihjOS4gOasoQp9Owo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD7miYDku6UgPGNvZGU+dGVzdENvbnRyb2xsZXI8L2NvZGU+5Lya5ZyoPGNvZGU+dmlld1dpbGxEaXNhcHBlYXI8L2NvZGU+6LCD55So5ZCO5Lul5Y+KPGNvZGU+ZGVhbGxvYzwvY29kZT7osIPnlKjliY3miafooYxibG9jayDkuK3nmoTmlrnms5XjgIIK5LiL6Z2i5oiR5Lus55yL5LiLIGhvb2sg6L+Z5Liq5pa55rOV56m256uf5YGa5LqG5LuA5LmI44CC6L+b5YWlPC9wPgo8IS0tYmVmb3JlYmVnaW4tLT48ZGl2IGNsYXNzPSJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiPjwhLS1hZnRlcmJlZ2luLS0+PHByZSB2LXByZSBjbGFzcz0ibGFuZ3VhZ2UtdGV4dCI+PGNvZGU+LSAoaWQmbHQ7QXNwZWN0VG9rZW4mZ3Q7KWFzcGVjdF9ob29rU2VsZWN0b3I6KFNFTClzZWxlY3RvcgogICAgICAgICAgICAgICAgICAgICAgd2l0aE9wdGlvbnM6KEFzcGVjdE9wdGlvbnMpb3B0aW9ucwogICAgICAgICAgICAgICAgICAgICAgIHVzaW5nQmxvY2s6KGlkKWJsb2NrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjooTlNFcnJvciAqKillcnJvciB7CiAgICByZXR1cm4gYXNwZWN0X2FkZChzZWxmLCBzZWxlY3Rvciwgb3B0aW9ucywgYmxvY2ssIGVycm9yKTsKfQo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD7lhbblrp7lroPosIPnlKjkuoYgPGNvZGU+YXNwZWN0X2FkZDwvY29kZT4g6L+Z5Liq6Z2Z5oCB5Ye95pWw77yaPC9wPgo8IS0tYmVmb3JlYmVnaW4tLT48ZGl2IGNsYXNzPSJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiPjwhLS1hZnRlcmJlZ2luLS0+PHByZSB2LXByZSBjbGFzcz0ibGFuZ3VhZ2UtdGV4dCI+PGNvZGU+c3RhdGljIGlkIGFzcGVjdF9hZGQoaWQgc2VsZiwgU0VMIHNlbGVjdG9yLCBBc3BlY3RPcHRpb25zIG9wdGlvbnMsIGlkIGJsb2NrLCBOU0Vycm9yICoqZXJyb3IpIHsKICAgIE5TQ1BhcmFtZXRlckFzc2VydChzZWxmKTsKICAgIE5TQ1BhcmFtZXRlckFzc2VydChzZWxlY3Rvcik7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoYmxvY2spOwoKICAgIF9fYmxvY2sgQXNwZWN0SWRlbnRpZmllciAqaWRlbnRpZmllciA9IG5pbDsKICAgIAogICAgLy8gMS4g5Zyo5omn6KGMIGJsb2NrIOWJjeWKoOmUge+8jOWcqOaJp+ihjOWujCBibG9jayDlkI7op6PplIEKICAgIGFzcGVjdF9wZXJmb3JtTG9ja2VkKF57CiAgICAKICAgICAgICAvLyAyLiAKICAgICAgICBpZiAoYXNwZWN0X2lzU2VsZWN0b3JBbGxvd2VkQW5kVHJhY2soc2VsZiwgc2VsZWN0b3IsIG9wdGlvbnMsIGVycm9yKSkgewogICAgICAgICAgICAvLyAzCiAgICAgICAgICAgIEFzcGVjdHNDb250YWluZXIgKmFzcGVjdENvbnRhaW5lciA9IGFzcGVjdF9nZXRDb250YWluZXJGb3JPYmplY3Qoc2VsZiwgc2VsZWN0b3IpOwogICAgICAgICAgICAvLyA0LiAKICAgICAgICAgICAgaWRlbnRpZmllciA9IFtBc3BlY3RJZGVudGlmaWVyIGlkZW50aWZpZXJXaXRoU2VsZWN0b3I6c2VsZWN0b3Igb2JqZWN0OnNlbGYgb3B0aW9uczpvcHRpb25zIGJsb2NrOmJsb2NrIGVycm9yOmVycm9yXTsKICAgICAgICAgICAgaWYgKGlkZW50aWZpZXIpIHsKICAgICAgICAgICAgICAgIC8vIDUuIAogICAgICAgICAgICAgICAgW2FzcGVjdENvbnRhaW5lciBhZGRBc3BlY3Q6aWRlbnRpZmllciB3aXRoT3B0aW9uczpvcHRpb25zXTsKCiAgICAgICAgICAgICAgICAvLyA2LiAgCiAgICAgICAgICAgICAgICAvLyBNb2RpZnkgdGhlIGNsYXNzIHRvIGFsbG93IG1lc3NhZ2UgaW50ZXJjZXB0aW9uLgogICAgICAgICAgICAgICAgYXNwZWN0X3ByZXBhcmVDbGFzc0FuZEhvb2tTZWxlY3RvcihzZWxmLCBzZWxlY3RvciwgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gaWRlbnRpZmllcjsKfQo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD7nrKwx5q2l77yMPGNvZGU+YXNwZWN0X3BlcmZvcm1Mb2NrZWQ8L2NvZGU+6L+Z5Liq5pa55rOV5Zyo5omn6KGM5L2c5Li65Y+C5pWw55qEIGJsb2NrIOWJjeS8mui/m+ihjOWKoOmUgeaTjeS9nO+8jOiAjOWcqCBibG9jayDmiafooYzlrozlkI7ov5vooYzop6PplIHvvJo8L3A+CjwhLS1iZWZvcmViZWdpbi0tPjxkaXYgY2xhc3M9Imxhbmd1YWdlLSBleHRyYS1jbGFzcyI+PCEtLWFmdGVyYmVnaW4tLT48cHJlIHYtcHJlIGNsYXNzPSJsYW5ndWFnZS10ZXh0Ij48Y29kZT5zdGF0aWMgdm9pZCBhc3BlY3RfcGVyZm9ybUxvY2tlZChkaXNwYXRjaF9ibG9ja190IGJsb2NrKSB7CiAgICBzdGF0aWMgT1NTcGluTG9jayBhc3BlY3RfbG9jayA9IE9TX1NQSU5MT0NLX0lOSVQ7CiAgICBPU1NwaW5Mb2NrTG9jaygmYW1wO2FzcGVjdF9sb2NrKTsKICAgIGJsb2NrKCk7CiAgICBPU1NwaW5Mb2NrVW5sb2NrKCZhbXA7YXNwZWN0X2xvY2spOwp9CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPuesrDLmraXkuK3osIPnlKjkuoY8Y29kZT5hc3BlY3RfaXNTZWxlY3RvckFsbG93ZWRBbmRUcmFjayhzZWxmLCBzZWxlY3Rvciwgb3B0aW9ucywgZXJyb3IpPC9jb2RlPui/meS4quaWueazle+8mjwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPnN0YXRpYyBCT09MIGFzcGVjdF9pc1NlbGVjdG9yQWxsb3dlZEFuZFRyYWNrKE5TT2JqZWN0ICpzZWxmLCBTRUwgc2VsZWN0b3IsIEFzcGVjdE9wdGlvbnMgb3B0aW9ucywgTlNFcnJvciAqKmVycm9yKSB7CgogICAgLy8gYHJldGFpbmDvvIxgcmVsZWFzZWDvvIxgYXV0b3JlbGVhc2Vg5ZKMYGZvcndhcmRJbnZvY2F0aW9uYOmDveaYr+S4jeWFgeiuuOiiqyBob29rIO+8jOWug+S7rOS8muiiq+WKoOWFpem7keWQjeWNleS4rQogICAgc3RhdGljIE5TU2V0ICpkaXNhbGxvd2VkU2VsZWN0b3JMaXN0OwogICAgc3RhdGljIGRpc3BhdGNoX29uY2VfdCBwcmVkOwogICAgZGlzcGF0Y2hfb25jZSgmYW1wO3ByZWQsIF57CiAgICAgICAgZGlzYWxsb3dlZFNlbGVjdG9yTGlzdCA9IFtOU1NldCBzZXRXaXRoT2JqZWN0czpAJnF1b3Q7cmV0YWluJnF1b3Q7LCBAJnF1b3Q7cmVsZWFzZSZxdW90OywgQCZxdW90O2F1dG9yZWxlYXNlJnF1b3Q7LCBAJnF1b3Q7Zm9yd2FyZEludm9jYXRpb246JnF1b3Q7LCBuaWxdOwogICAgfSk7CgogICAgLy8g5aaC5p6c6KaBIEhvb2sg55qE5pa55rOV5piv5Lul5LiK6buR5ZCN5Y2V5Lit55qE5Zub5Liq5pa55rOV5Lit55qE5LiA5Liq77yM5Lya5omT5Y2w5Ye66ZSZ6K+v5L+h5oGv5bm25LiU6L+U5ZueIE5PCiAgICBOU1N0cmluZyAqc2VsZWN0b3JOYW1lID0gTlNTdHJpbmdGcm9tU2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgaWYgKFtkaXNhbGxvd2VkU2VsZWN0b3JMaXN0IGNvbnRhaW5zT2JqZWN0OnNlbGVjdG9yTmFtZV0pIHsKICAgICAgICBOU1N0cmluZyAqZXJyb3JEZXNjcmlwdGlvbiA9IFtOU1N0cmluZyBzdHJpbmdXaXRoRm9ybWF0OkAmcXVvdDtTZWxlY3RvciAlQCBpcyBibGFja2xpc3RlZC4mcXVvdDssIHNlbGVjdG9yTmFtZV07CiAgICAgICAgQXNwZWN0RXJyb3IoQXNwZWN0RXJyb3JTZWxlY3RvckJsYWNrbGlzdGVkLCBlcnJvckRlc2NyaXB0aW9uKTsKICAgICAgICByZXR1cm4gTk87CiAgICB9CgogICAgLy8g5aaC5p6cIEhvb2sg55qE5pivIGRlYWxsb2Mg5pa55rOV77yM5bm25LiUIEhvb2sg5pe25py65LiN5piv5ZyoIGRlYWxsb2Mg5pa55rOV5omn6KGM5LmL5YmN77yM5Lmf5Lya5omT5Y2w5Ye66ZSZ6K+v5L+h5oGv77yM5bm25LiU6L+U5ZueIE5PCiAgICBBc3BlY3RPcHRpb25zIHBvc2l0aW9uID0gb3B0aW9ucyZhbXA7QXNwZWN0UG9zaXRpb25GaWx0ZXI7CiAgICBpZiAoW3NlbGVjdG9yTmFtZSBpc0VxdWFsVG9TdHJpbmc6QCZxdW90O2RlYWxsb2MmcXVvdDtdICZhbXA7JmFtcDsgcG9zaXRpb24gIT0gQXNwZWN0UG9zaXRpb25CZWZvcmUpIHsKICAgICAgICBOU1N0cmluZyAqZXJyb3JEZXNjID0gQCZxdW90O0FzcGVjdFBvc2l0aW9uQmVmb3JlIGlzIHRoZSBvbmx5IHZhbGlkIHBvc2l0aW9uIHdoZW4gaG9va2luZyBkZWFsbG9jLiZxdW90OzsKICAgICAgICBBc3BlY3RFcnJvcihBc3BlY3RFcnJvclNlbGVjdG9yRGVhbGxvY1Bvc2l0aW9uLCBlcnJvckRlc2MpOwogICAgICAgIHJldHVybiBOTzsKICAgIH0KIAogLy8g5aaC5p6c6KKrIEhvb2sg55qE57G75pys6Lqr5LiN6IO95ZON5bqU6KKrIEhvb2sg55qE5pa55rOV77yM6YKj5LmI6L+Z6YeM5Lmf5Lya5oql6ZSZ5bm25LiU6L+U5ZueIE5PCiAgICBpZiAoIVtzZWxmIHJlc3BvbmRzVG9TZWxlY3RvcjpzZWxlY3Rvcl0gJmFtcDsmYW1wOyAhW3NlbGYuY2xhc3MgaW5zdGFuY2VzUmVzcG9uZFRvU2VsZWN0b3I6c2VsZWN0b3JdKSB7CiAgICAgICAgTlNTdHJpbmcgKmVycm9yRGVzYyA9IFtOU1N0cmluZyBzdHJpbmdXaXRoRm9ybWF0OkAmcXVvdDtVbmFibGUgdG8gZmluZCBzZWxlY3RvciAtWyVAICVAXS4mcXVvdDssIE5TU3RyaW5nRnJvbUNsYXNzKHNlbGYuY2xhc3MpLCBzZWxlY3Rvck5hbWVdOwogICAgICAgIEFzcGVjdEVycm9yKEFzcGVjdEVycm9yRG9lc05vdFJlc3BvbmRUb1NlbGVjdG9yLCBlcnJvckRlc2MpOwogICAgICAgIHJldHVybiBOTzsKICAgIH0KCiAgICAvLyBTZWFyY2ggZm9yIHRoZSBjdXJyZW50IGNsYXNzIGFuZCB0aGUgY2xhc3MgaGllcmFyY2h5IElGIHdlIGFyZSBtb2RpZnlpbmcgYSBjbGFzcyBvYmplY3QKICAgIAogICAgaWYgKGNsYXNzX2lzTWV0YUNsYXNzKG9iamVjdF9nZXRDbGFzcyhzZWxmKSkpIHsKICAgICAgICAvLyDlpoLmnpwgc2VsZiDmiYDlsZ7nmoTnsbvmmK/kuIDkuKrlhYPnsbsKICAgIAogICAgICAgIENsYXNzIGtsYXNzID0gW3NlbGYgY2xhc3NdOwogICAgICAgIAogICAgICAgIC8vIGFzcGVjdF9nZXRTd2l6emxlZENsYXNzZXNEaWN05Lya6L+U5Zue5LiA5Liq5YWo5bGA5ZSv5LiA55qEYHN3aXp6bGVkQ2xhc3Nlc0RpY3Rg77yM5LulIENsYXNzIOS4uumUru+8jOS7pWBBc3BlY3RUcmFja2VyYOWunuS+i+S4uuWAvO+8jOS4i+aWh+S4reS8muS7i+e7jei/meS4qiBkaWN0aW9uYXJ5IOWGheeahOmUruWAvOWvueaYr+aAjuS5iOa3u+WKoOeahAogICAgICAgIE5TTXV0YWJsZURpY3Rpb25hcnkgKnN3aXp6bGVkQ2xhc3Nlc0RpY3QgPSBhc3BlY3RfZ2V0U3dpenpsZWRDbGFzc2VzRGljdCgpOwogICAgICAgIENsYXNzIGN1cnJlbnRDbGFzcyA9IFtzZWxmIGNsYXNzXTsKCiAgICAgICAgQXNwZWN0VHJhY2tlciAqdHJhY2tlciA9IHN3aXp6bGVkQ2xhc3Nlc0RpY3RbY3VycmVudENsYXNzXTsKICAgICAgICBpZiAoW3RyYWNrZXIgc3ViY2xhc3NIYXNIb29rZWRTZWxlY3Rvck5hbWU6c2VsZWN0b3JOYW1lXSkgewogICAgICAgICAgICAvLyDlpoLmnpxzZWxmIOaJgOWxnuexu+eahOWtkOexu+W3sue7jyBIb29rIOS6hiBzZWxlY3Rvck5hbWUg5Luj6KGo55qEIFNFTO+8jOmCo+S5iOWcqOi/memHjOWwseS8muaJk+WNsOWHuumUmeivr+S/oeaBr+W5tuS4lOi/lOWbniBOTwogICAgICAgICAgICBOU1NldCAqc3ViY2xhc3NUcmFja2VyID0gW3RyYWNrZXIgc3ViY2xhc3NUcmFja2Vyc0hvb2tpbmdTZWxlY3Rvck5hbWU6c2VsZWN0b3JOYW1lXTsKICAgICAgICAgICAgTlNTZXQgKnN1YmNsYXNzTmFtZXMgPSBbc3ViY2xhc3NUcmFja2VyIHZhbHVlRm9yS2V5OkAmcXVvdDt0cmFja2VkQ2xhc3NOYW1lJnF1b3Q7XTsKICAgICAgICAgICAgTlNTdHJpbmcgKmVycm9yRGVzY3JpcHRpb24gPSBbTlNTdHJpbmcgc3RyaW5nV2l0aEZvcm1hdDpAJnF1b3Q7RXJyb3I6ICVAIGFscmVhZHkgaG9va2VkIHN1YmNsYXNzZXM6ICVALiBBIG1ldGhvZCBjYW4gb25seSBiZSBob29rZWQgb25jZSBwZXIgY2xhc3MgaGllcmFyY2h5LiZxdW90Oywgc2VsZWN0b3JOYW1lLCBzdWJjbGFzc05hbWVzXTsKICAgICAgICAgICAgQXNwZWN0RXJyb3IoQXNwZWN0RXJyb3JTZWxlY3RvckFscmVhZHlIb29rZWRJbkNsYXNzSGllcmFyY2h5LCBlcnJvckRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgcmV0dXJuIE5POwogICAgICAgIH0KCiAgICAgICAgLy8g5LuOIHNlbGYg5omA5bGe57G755qE57un5om/6ZO+5LiK6L+b6KGM5p+l5om+CiAgICAgICAgZG8gewogICAgICAgICAgICB0cmFja2VyID0gc3dpenpsZWRDbGFzc2VzRGljdFtjdXJyZW50Q2xhc3NdOwogICAgICAgICAgICAvLyDlpoLmnpznu6fmib/pk77kuIrnmoTmn5DkuKrnsbvnmoTooqvkuqTmjaLnmoTmlrnms5XliJfooajkuK3mnInlvZPliY3ov5nkuKogU0VMCiAgICAgICAgICAgIGlmIChbdHJhY2tlci5zZWxlY3Rvck5hbWVzIGNvbnRhaW5zT2JqZWN0OnNlbGVjdG9yTmFtZV0pIHsKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDnu6fmib/pk77kuIrnmoTov5nkuKrnsbvlsLHmmK/ooqsgSG9vayDnmoTpgqPkuKrnsbvvvIzor7TmmI7kuYvliY3lt7Lnu48gSG9vayDov4flroPkuobvvIzlm6DmraTov5nph4znm7TmjqXov5Tlm54gWUVTCiAgICAgICAgICAgICAgICBpZiAoa2xhc3MgPT0gY3VycmVudENsYXNzKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtb2RpZmllZCBhbmQgdG9wbW9zdCEKICAgICAgICAgICAgICAgICAgICByZXR1cm4gWUVTOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDnu6fmib/pk77kuIrnmoTov5nkuKrnsbvkuI3mmK/ooqsgSG9vayDnmoTpgqPkuKrnsbvvvIzogIzmmK/lroPnmoTniLbnsbvvvIzpgqPkuYjov5nkuKrmlrnms5Xlt7Lnu4/ooqsgSG9vayDov4fkuobvvIzmiJHku6zlsLHkuI3og73lho3mrKHov5vooYwgSG9vayDkuobvvIzmiYDku6Xov5nph4zpnIDopoHmiZPljbDlh7rkuIDmnaHplJnor6/kv6Hmga/vvIzlubbkuJTov5Tlm54gTk8KICAgICAgICAgICAgICAgIE5TU3RyaW5nICplcnJvckRlc2NyaXB0aW9uID0gW05TU3RyaW5nIHN0cmluZ1dpdGhGb3JtYXQ6QCZxdW90O0Vycm9yOiAlQCBhbHJlYWR5IGhvb2tlZCBpbiAlQC4gQSBtZXRob2QgY2FuIG9ubHkgYmUgaG9va2VkIG9uY2UgcGVyIGNsYXNzIGhpZXJhcmNoeS4mcXVvdDssIHNlbGVjdG9yTmFtZSwgTlNTdHJpbmdGcm9tQ2xhc3MoY3VycmVudENsYXNzKV07CiAgICAgICAgICAgICAgICBBc3BlY3RFcnJvcihBc3BlY3RFcnJvclNlbGVjdG9yQWxyZWFkeUhvb2tlZEluQ2xhc3NIaWVyYXJjaHksIGVycm9yRGVzY3JpcHRpb24pOwogICAgICAgICAgICAgICAgcmV0dXJuIE5POwogICAgICAgICAgICB9CiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnRDbGFzcyA9IGNsYXNzX2dldFN1cGVyY2xhc3MoY3VycmVudENsYXNzKSkpOwoKICAgICAgICAvLyBBZGQgdGhlIHNlbGVjdG9yIGFzIGJlaW5nIG1vZGlmaWVkLgogICAgICAgIGN1cnJlbnRDbGFzcyA9IGtsYXNzOwogICAgICAgIEFzcGVjdFRyYWNrZXIgKnN1YmNsYXNzVHJhY2tlciA9IG5pbDsKICAgICAgICBkbyB7CiAgICAgICAgICAgIHRyYWNrZXIgPSBzd2l6emxlZENsYXNzZXNEaWN0W2N1cnJlbnRDbGFzc107CiAgICAgICAgICAgIGlmICghdHJhY2tlcikgewogICAgICAgICAgICAgICAgLy8g5Li6IHNlbGYg5omA5bGe55qE6L+Z5Liq57G75Yib5bu65a+55bqU55qEIEFzcGVjdFRyYWNrZXIKICAgICAgICAgICAgICAgIHRyYWNrZXIgPSBbW0FzcGVjdFRyYWNrZXIgYWxsb2NdIGluaXRXaXRoVHJhY2tlZENsYXNzOmN1cnJlbnRDbGFzc107CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIOS7pSBzZWxmIOaJgOWxnueahOexu+S4uumUru+8jOS7pXRyYWNrZXIg5Li65YC877yM5re75Yqg5Yiwc3dpenpsZWRDbGFzc2VzRGljdOS4rQogICAgICAgICAgICAgICAgc3dpenpsZWRDbGFzc2VzRGljdFsoaWQmbHQ7TlNDb3B5aW5nJmd0OyljdXJyZW50Q2xhc3NdID0gdHJhY2tlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc3ViY2xhc3NUcmFja2VyKSB7CiAgICAgICAgICAgICAgICBbdHJhY2tlciBhZGRTdWJjbGFzc1RyYWNrZXI6c3ViY2xhc3NUcmFja2VyIGhvb2tpbmdTZWxlY3Rvck5hbWU6c2VsZWN0b3JOYW1lXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFt0cmFja2VyLnNlbGVjdG9yTmFtZXMgYWRkT2JqZWN0OnNlbGVjdG9yTmFtZV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFsbCBzdXBlcmNsYXNzZXMgZ2V0IG1hcmtlZCBhcyBoYXZpbmcgYSBzdWJjbGFzcyB0aGF0IGlzIG1vZGlmaWVkLgogICAgICAgICAgICBzdWJjbGFzc1RyYWNrZXIgPSB0cmFja2VyOwogICAgICAgIH13aGlsZSAoKGN1cnJlbnRDbGFzcyA9IGNsYXNzX2dldFN1cGVyY2xhc3MoY3VycmVudENsYXNzKSkpOwoJfSBlbHNlIHsKCQoJICAgLy8g5aaC5p6cIHNlbGYg5omA5bGe55qE57G75LiN5piv5YWD57G777yM6YKj5LmI55u05o6l6L+U5ZueIFlFUwoJCXJldHVybiBZRVM7Cgl9CgogICAgcmV0dXJuIFlFUzsKfQo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD7nrKwz5q2l77yM5oiR5Lus5Lulc2VsZiDlkowgc2VsZWN0b3Ig5Li65Y+C5pWw77yM6LCD55SoPGNvZGU+YXNwZWN0X2dldENvbnRhaW5lckZvck9iamVjdDwvY29kZT7lh73mlbDvvIzov5Tlm57kuIDkuKo8Y29kZT5Bc3BlY3RzQ29udGFpbmVyPC9jb2RlPu+8mjwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPkFzcGVjdHNDb250YWluZXIgKmFzcGVjdENvbnRhaW5lciA9IGFzcGVjdF9nZXRDb250YWluZXJGb3JPYmplY3Qoc2VsZiwgc2VsZWN0b3IpOwoKc3RhdGljIEFzcGVjdHNDb250YWluZXIgKmFzcGVjdF9nZXRDb250YWluZXJGb3JPYmplY3QoTlNPYmplY3QgKnNlbGYsIFNFTCBzZWxlY3RvcikgewogICAgTlNDUGFyYW1ldGVyQXNzZXJ0KHNlbGYpOwogICAgU0VMIGFsaWFzU2VsZWN0b3IgPSBhc3BlY3RfYWxpYXNGb3JTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBBc3BlY3RzQ29udGFpbmVyICphc3BlY3RDb250YWluZXIgPSBvYmpjX2dldEFzc29jaWF0ZWRPYmplY3Qoc2VsZiwgYWxpYXNTZWxlY3Rvcik7CiAgICBpZiAoIWFzcGVjdENvbnRhaW5lcikgewogICAgICAgIGFzcGVjdENvbnRhaW5lciA9IFtBc3BlY3RzQ29udGFpbmVyIG5ld107CiAgICAgICAgb2JqY19zZXRBc3NvY2lhdGVkT2JqZWN0KHNlbGYsIGFsaWFzU2VsZWN0b3IsIGFzcGVjdENvbnRhaW5lciwgT0JKQ19BU1NPQ0lBVElPTl9SRVRBSU4pOwogICAgfQogICAgcmV0dXJuIGFzcGVjdENvbnRhaW5lcjsKfQo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD5Bc3BlY3RzQ29udGFpbmVyIOWSjCBTRUwg5piv6YCa6L+H5YWz6IGU5a+56LGh5oqA5pyv5YWz6IGU5Zyo5LiA6LW355qE77yM5Zug5q2k6L+Z5Liq5pa55rOV6YeM5bCx5piv6YCa6L+HIFNFTCDlj5blh7rlr7nlupTnmoQgQXNwZWN0c0NvbnRhaW5lciDlrp7kvovjgIIK56ysNOatpeaYr+WIm+W7uuWHuuS4gOS4qjxjb2RlPkFzcGVjdHNJZGVudGlmaWVyPC9jb2RlPuWunuS+i++8mjwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPisgKGluc3RhbmNldHlwZSlpZGVudGlmaWVyV2l0aFNlbGVjdG9yOihTRUwpc2VsZWN0b3Igb2JqZWN0OihpZClvYmplY3Qgb3B0aW9uczooQXNwZWN0T3B0aW9ucylvcHRpb25zIGJsb2NrOihpZClibG9jayBlcnJvcjooTlNFcnJvciAqKillcnJvciB7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoYmxvY2spOwogICAgTlNDUGFyYW1ldGVyQXNzZXJ0KHNlbGVjdG9yKTsKICAgIE5TTWV0aG9kU2lnbmF0dXJlICpibG9ja1NpZ25hdHVyZSA9IGFzcGVjdF9ibG9ja01ldGhvZFNpZ25hdHVyZShibG9jaywgZXJyb3IpOyAvLyBUT0RPOiBjaGVjayBzaWduYXR1cmUgY29tcGF0aWJpbGl0eSwgZXRjLgogICAgaWYgKCFhc3BlY3RfaXNDb21wYXRpYmxlQmxvY2tTaWduYXR1cmUoYmxvY2tTaWduYXR1cmUsIG9iamVjdCwgc2VsZWN0b3IsIGVycm9yKSkgewogICAgICAgIHJldHVybiBuaWw7CiAgICB9CgogICAgQXNwZWN0SWRlbnRpZmllciAqaWRlbnRpZmllciA9IG5pbDsKICAgIGlmIChibG9ja1NpZ25hdHVyZSkgewogICAgICAgIGlkZW50aWZpZXIgPSBbQXNwZWN0SWRlbnRpZmllciBuZXddOwogICAgICAgIGlkZW50aWZpZXIuc2VsZWN0b3IgPSBzZWxlY3RvcjsKICAgICAgICBpZGVudGlmaWVyLmJsb2NrID0gYmxvY2s7CiAgICAgICAgaWRlbnRpZmllci5ibG9ja1NpZ25hdHVyZSA9IGJsb2NrU2lnbmF0dXJlOwogICAgICAgIGlkZW50aWZpZXIub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgICAgaWRlbnRpZmllci5vYmplY3QgPSBvYmplY3Q7IC8vIHdlYWsKICAgIH0KICAgIHJldHVybiBpZGVudGlmaWVyOwp9CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPuesrDXmraXmmK/lsIbkuIrkuIDmraXkuK3liJvlu7rnmoQ8Y29kZT5Bc3BlY3RJZGVudGlmaWVyPC9jb2RlPuWunuS+i+a3u+WKoOWIsOesrDPmraXliJvlu7rnmoQ8Y29kZT5Bc3BlY3RzQ29udGFpbmVyPC9jb2RlPuS4re+8mjwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPi0gKHZvaWQpYWRkQXNwZWN0OihBc3BlY3RJZGVudGlmaWVyICopYXNwZWN0IHdpdGhPcHRpb25zOihBc3BlY3RPcHRpb25zKW9wdGlvbnMgewogICAgTlNQYXJhbWV0ZXJBc3NlcnQoYXNwZWN0KTsKICAgIE5TVUludGVnZXIgcG9zaXRpb24gPSBvcHRpb25zJmFtcDtBc3BlY3RQb3NpdGlvbkZpbHRlcjsKICAgIAogICAgLy8g5qC55o2ub3B0aW9uc+eahOiuvue9ru+8jEFzcGVjdElkZW50aWZpZXLlrp7kvovkvJrooqvmt7vliqDliLBBc3BlY3RzQ29udGFpbmVy5a+55bqU55qE5pWw57uE6YeMCiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7CiAgICAgICAgY2FzZSBBc3BlY3RQb3NpdGlvbkJlZm9yZTogIHNlbGYuYmVmb3JlQXNwZWN0cyAgPSBbKHNlbGYuYmVmb3JlQXNwZWN0cyA/OkBbXSkgYXJyYXlCeUFkZGluZ09iamVjdDphc3BlY3RdOyBicmVhazsKICAgICAgICBjYXNlIEFzcGVjdFBvc2l0aW9uSW5zdGVhZDogc2VsZi5pbnN0ZWFkQXNwZWN0cyA9IFsoc2VsZi5pbnN0ZWFkQXNwZWN0cz86QFtdKSBhcnJheUJ5QWRkaW5nT2JqZWN0OmFzcGVjdF07IGJyZWFrOwogICAgICAgIGNhc2UgQXNwZWN0UG9zaXRpb25BZnRlcjogICBzZWxmLmFmdGVyQXNwZWN0cyAgID0gWyhzZWxmLmFmdGVyQXNwZWN0cyAgPzpAW10pIGFycmF5QnlBZGRpbmdPYmplY3Q6YXNwZWN0XTsgYnJlYWs7CiAgICB9Cn0KPC9jb2RlPjwvcHJlPgo8IS0tYmVmb3JlZW5kLS0+PC9kaXY+PCEtLWFmdGVyZW5kLS0+PHA+56ysNuatpeaYr+aVtOS4quaWueazlSBIb29rIOeahOaguOW/g++8mjwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPmFzcGVjdF9wcmVwYXJlQ2xhc3NBbmRIb29rU2VsZWN0b3Ioc2VsZiwgc2VsZWN0b3IsIGVycm9yKTsKCnN0YXRpYyB2b2lkIGFzcGVjdF9wcmVwYXJlQ2xhc3NBbmRIb29rU2VsZWN0b3IoTlNPYmplY3QgKnNlbGYsIFNFTCBzZWxlY3RvciwgTlNFcnJvciAqKmVycm9yKSB7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoc2VsZWN0b3IpOwogICAgCiAgICAvLyAoMSkKICAgIENsYXNzIGtsYXNzID0gYXNwZWN0X2hvb2tDbGFzcyhzZWxmLCBlcnJvcik7CiAgICBNZXRob2QgdGFyZ2V0TWV0aG9kID0gY2xhc3NfZ2V0SW5zdGFuY2VNZXRob2Qoa2xhc3MsIHNlbGVjdG9yKTsKICAgIElNUCB0YXJnZXRNZXRob2RJTVAgPSBtZXRob2RfZ2V0SW1wbGVtZW50YXRpb24odGFyZ2V0TWV0aG9kKTsKICAgIAogICAgLy8gKDIpCiAgICBpZiAoIWFzcGVjdF9pc01zZ0ZvcndhcmRJTVAodGFyZ2V0TWV0aG9kSU1QKSkgewogICAgICAgIC8vIE1ha2UgYSBtZXRob2QgYWxpYXMgZm9yIHRoZSBleGlzdGluZyBtZXRob2QgaW1wbGVtZW50YXRpb24sIGl0IG5vdCBhbHJlYWR5IGNvcGllZC4KICAgICAgICBjb25zdCBjaGFyICp0eXBlRW5jb2RpbmcgPSBtZXRob2RfZ2V0VHlwZUVuY29kaW5nKHRhcmdldE1ldGhvZCk7CiAgICAgICAgCiAgICAgICAgLy8gKDMpCiAgICAgICAgU0VMIGFsaWFzU2VsZWN0b3IgPSBhc3BlY3RfYWxpYXNGb3JTZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgICAgaWYgKCFba2xhc3MgaW5zdGFuY2VzUmVzcG9uZFRvU2VsZWN0b3I6YWxpYXNTZWxlY3Rvcl0pIHsKICAgICAgICAgICAgLy8g5aaC5p6c56ysKDEp5q2l5Lit5Yib5bu65Ye65p2l55qE57G75LiN6IO95ZON5bqU56ysKDMp5q2l5Lit5paw5Yib5bu655qEIFNFTO+8jOmCo+S5iOWwsemAmui/h2NsYXNzX2FkZE1ldGhvZCDmnaXnu5nmlrDliJvlu7rlh7rmnaXnmoTnsbvmt7vliqDkuIDkuKrmlrnms5XvvIzov5nkuKrmlrnms5XnmoQgU0VMIOWwseaYr+aWsOWIm+W7uueahCBTRUzvvIxJTVAg5ZKM57G75Z6L57yW56CB5YiZ5piv6KaB6KKr5pu/5o2i55qE5pa55rOV55qEIElNUCDlkoznsbvlnovnvJbnoIEKICAgICAgICAgICAgX191bnVzZWQgQk9PTCBhZGRlZEFsaWFzID0gY2xhc3NfYWRkTWV0aG9kKGtsYXNzLCBhbGlhc1NlbGVjdG9yLCBtZXRob2RfZ2V0SW1wbGVtZW50YXRpb24odGFyZ2V0TWV0aG9kKSwgdHlwZUVuY29kaW5nKTsKICAgICAgICAgICAgTlNDQXNzZXJ0KGFkZGVkQWxpYXMsIEAmcXVvdDtPcmlnaW5hbCBpbXBsZW1lbnRhdGlvbiBmb3IgJUAgaXMgYWxyZWFkeSBjb3BpZWQgdG8gJUAgb24gJUAmcXVvdDssIE5TU3RyaW5nRnJvbVNlbGVjdG9yKHNlbGVjdG9yKSwgTlNTdHJpbmdGcm9tU2VsZWN0b3IoYWxpYXNTZWxlY3RvciksIGtsYXNzKTsKICAgICAgICB9CgogICAgICAgIC8vIFdlIHVzZSBmb3J3YXJkSW52b2NhdGlvbiB0byBob29rIGluLgogICAgICAgIC8vICg0KQogICAgICAgIGNsYXNzX3JlcGxhY2VNZXRob2Qoa2xhc3MsIHNlbGVjdG9yLCBhc3BlY3RfZ2V0TXNnRm9yd2FyZElNUChzZWxmLCBzZWxlY3RvciksIHR5cGVFbmNvZGluZyk7CiAgICAgICAgQXNwZWN0TG9nKEAmcXVvdDtBc3BlY3RzOiBJbnN0YWxsZWQgaG9vayBmb3IgLVslQCAlQF0uJnF1b3Q7LCBrbGFzcywgTlNTdHJpbmdGcm9tU2VsZWN0b3Ioc2VsZWN0b3IpKTsKICAgIH0KfQo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD7ov5nkuKrmlrnms5XkuZ/mr5TovoPlpI3mnYLvvIzlm6DmraTmiJHku6zlsIblroPliIbmiJDlm5vkuKrlsI/mraXpqqTmnaXliIbmnpDjgIIK56ysKDEp5q2l77yM6LCD55SoPGNvZGU+YXNwZWN0X2hvb2tDbGFzczwvY29kZT7vvJo8L3A+CjwhLS1iZWZvcmViZWdpbi0tPjxkaXYgY2xhc3M9Imxhbmd1YWdlLSBleHRyYS1jbGFzcyI+PCEtLWFmdGVyYmVnaW4tLT48cHJlIHYtcHJlIGNsYXNzPSJsYW5ndWFnZS10ZXh0Ij48Y29kZT5zdGF0aWMgQ2xhc3MgYXNwZWN0X2hvb2tDbGFzcyhOU09iamVjdCAqc2VsZiwgTlNFcnJvciAqKmVycm9yKSB7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoc2VsZik7CiAgICAKICAgLy8g6L+Z6YeM5piv5q+U6L6D5a655piT5re35reG55qE5Zyw5pa5CiAgIC8vIC5jbGFzcyDmlrnms5XvvIzlvZMgc2VsZiDmmK/kuIDkuKogaW5zdGFuY2Ug55qE5pe25YCZ77yM6L+U5ZueIHNlbGYg55qE57G75a+56LGhOwogICAvLyDlvZMgc2VsZiDmmK/kuIDkuKrnsbvlr7nosaHnmoTml7blgJnvvIzov5Tlm57lroPoh6rouqsKICAgLy8gb2JqZWN0X2dldENsYXNzIOaWueazleWImeaYr+iOt+WPliBzZWxmIOeahCBpc2Eg5oyH6ZKI5oyH5ZCR55qE5a+56LGh77yM5aaC5p6cc2VsZiDmmK/kuIDkuKoKICAgLy8gaW5zdGFuY2XvvIzpgqPkuYjov5Tlm57kuIDkuKrnsbvlr7nosaE75aaC5p6cIHNlbGYg5piv5LiA5Liq57G75a+56LGh77yM5YiZ6L+U5Zue5LiA5Liq5YWD57G7CgogICAgCglDbGFzcyBzdGF0ZWRDbGFzcyA9IHNlbGYuY2xhc3M7CglDbGFzcyBiYXNlQ2xhc3MgPSBvYmplY3RfZ2V0Q2xhc3Moc2VsZik7CglOU1N0cmluZyAqY2xhc3NOYW1lID0gTlNTdHJpbmdGcm9tQ2xhc3MoYmFzZUNsYXNzKTsKCiAgICAvLyBBbHJlYWR5IHN1YmNsYXNzZWQKICAgIAoJaWYgKFtjbGFzc05hbWUgaGFzU3VmZml4OkFzcGVjdHNTdWJjbGFzc1N1ZmZpeF0pIHsKCSAgIC8vIEFzcGVjdHNTdWJjbGFzc1N1ZmZpeOaYr+S4qiBzdGF0aWMg5a2X56ym5Liy5bi46YeP77yM5Lmf5bCx5pivX0FzcGVjdHNfCgkJcmV0dXJuIGJhc2VDbGFzczsKCiAgICAgICAgLy8gV2Ugc3dpenpsZSBhIGNsYXNzIG9iamVjdCwgbm90IGEgc2luZ2xlIG9iamVjdC4KCX1lbHNlIGlmIChjbGFzc19pc01ldGFDbGFzcyhiYXNlQ2xhc3MpKSB7CiAgICAgICAgcmV0dXJuIGFzcGVjdF9zd2l6emxlQ2xhc3NJblBsYWNlKChDbGFzcylzZWxmKTsKICAgICAgICAvLyBQcm9iYWJseSBhIEtWTyYjMzk7ZWQgY2xhc3MuIFN3aXp6bGUgaW4gcGxhY2UuIEFsc28gc3dpenpsZSBtZXRhIGNsYXNzZXMgaW4gcGxhY2UuCiAgICB9ZWxzZSBpZiAoc3RhdGVkQ2xhc3MgIT0gYmFzZUNsYXNzKSB7CiAgICAgICAgcmV0dXJuIGFzcGVjdF9zd2l6emxlQ2xhc3NJblBsYWNlKGJhc2VDbGFzcyk7CiAgICB9CgogICAgLy8gRGVmYXVsdCBjYXNlLiBDcmVhdGUgZHluYW1pYyBzdWJjbGFzcy4KICAgIC8vIOWcqOWOn+adpeeahOexu+WQjeWQjuWKoOS4il9Bc3BlY3RzX+WQjue8gAoJY29uc3QgY2hhciAqc3ViY2xhc3NOYW1lID0gW2NsYXNzTmFtZSBzdHJpbmdCeUFwcGVuZGluZ1N0cmluZzpBc3BlY3RzU3ViY2xhc3NTdWZmaXhdLlVURjhTdHJpbmc7CglDbGFzcyBzdWJjbGFzcyA9IG9iamNfZ2V0Q2xhc3Moc3ViY2xhc3NOYW1lKTsKCglpZiAoc3ViY2xhc3MgPT0gbmlsKSB7CgkgICAvLyDliJvlu7rlh7rkuIDkuKrmlrDnmoQgQ2xhc3Mg5Ye65p2l77yM5Z+65pys5q2l6aqk5pyJ5LiL6Z2i5Yeg5Liq77yaCgkgICAvLyAxLiDpgJrov4dvYmpjX2FsbG9jYXRlQ2xhc3NQYWly5p2l5Yib5bu65LiA5Liq5paw55qE5a2Q57G7CgkgICAvLyAyLiDpgJrov4djbGFzc19hZGRNZXRob2QsIGNsYXNzX2FkZEl2YXLmnaXlkJHmlrDnmoTlrZDnsbvmt7vliqDmlrnms5Xlkozlrp7kvovlj5jph48KCSAgIC8vIDMuIOmAmui/h29iamNfcmVnaXN0ZXJDbGFzc1BhaXLmnaXlkJHov5DooYzml7bns7vnu5/ms6jlhozov5nkuKrmlrDnsbsKCSAgIC8vIOWujOaIkOS7peS4ijPmraXlkI7lsLHlj6/ku6Xkvb/nlKjov5nkuKrmlrDlu7rnmoTnsbvkuoYKCSAgIAoJICAgLy8gc3ViY2xhc3PmmK8gYmFzZUNsYXNzIOeahOWtkOexu++8jOexu+WQjeaYr3N1YmNsYXNzTmFtZQoJCXN1YmNsYXNzID0gb2JqY19hbGxvY2F0ZUNsYXNzUGFpcihiYXNlQ2xhc3MsIHN1YmNsYXNzTmFtZSwgMCk7CgkJaWYgKHN1YmNsYXNzID09IG5pbCkgewogICAgICAgICAgICBOU1N0cmluZyAqZXJycm9yRGVzYyA9IFtOU1N0cmluZyBzdHJpbmdXaXRoRm9ybWF0OkAmcXVvdDtvYmpjX2FsbG9jYXRlQ2xhc3NQYWlyIGZhaWxlZCB0byBhbGxvY2F0ZSBjbGFzcyAlcy4mcXVvdDssIHN1YmNsYXNzTmFtZV07CiAgICAgICAgICAgIEFzcGVjdEVycm9yKEFzcGVjdEVycm9yRmFpbGVkVG9BbGxvY2F0ZUNsYXNzUGFpciwgZXJycm9yRGVzYyk7CiAgICAgICAgICAgIHJldHVybiBuaWw7CiAgICAgICAgfQogICAgCiAgICAgIC8vIOWwhuaWsOWIm+W7uuWHuuadpeeahOexu+eahGZvcndhcmRJbnZvY2F0aW9uOuaWueazleabv+aNouaIkF9fQVNQRUNUU19BUkVfQkVJTkdfQ0FMTEVEX1/mlrnms5XvvIzor6bop4HkuIvpnaLnmoTms6jph4oKCQlhc3BlY3Rfc3dpenpsZUZvcndhcmRJbnZvY2F0aW9uKHN1YmNsYXNzKTsKCQkvLyDmm7/mjaJzdWJjbGFzcyDnmoRjbGFzcyDmlrnms5UKCQlhc3BlY3RfaG9va2VkR2V0Q2xhc3Moc3ViY2xhc3MsIHN0YXRlZENsYXNzKTsKCQkvLyDmm7/mjaJzdWJjbGFzcyDnmoTlhYPnsbvnmoRjbGFzcyDmlrnms5UKCQlhc3BlY3RfaG9va2VkR2V0Q2xhc3Mob2JqZWN0X2dldENsYXNzKHN1YmNsYXNzKSwgc3RhdGVkQ2xhc3MpOwoJCS8vIOazqOWGjOaWsOWIm+W7uuWHuuadpeeahOWtkOexu++8jOeOsOWcqOWPr+S7peS9v+eUqOS6hgoJCW9iamNfcmVnaXN0ZXJDbGFzc1BhaXIoc3ViY2xhc3MpOwoJfQoKICAgIC8vIOWwhiBzZWxmIOaJgOWxnuexu+eahOexu+Wei+aUueS4uuaIkeS7rOWImuWImuWIm+W7uuWHuuadpeeahOW4puaciV9Bc3BlY3RzX+WQjue8gOeahOexuwogICAgLy8g6L+Z6YeM5Y+v5Lul6YCa6L+H5ZyoIFhjb2RlIOS4reaJk+aWreeCueadpei/m+ihjOmqjOivgQoJb2JqZWN0X3NldENsYXNzKHNlbGYsIHN1YmNsYXNzKTsKCS8vIOi/lOWbnui/meS4quWtkOexuwoJcmV0dXJuIHN1YmNsYXNzOwp9CgpzdGF0aWMgdm9pZCBhc3BlY3Rfc3dpenpsZUZvcndhcmRJbnZvY2F0aW9uKENsYXNzIGtsYXNzKSB7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoa2xhc3MpOwogICAgCiAgICAvLyBjbGFzc19yZXBsYWNlTWV0aG9k55qE56ys5LiA5Liq5Y+C5pWw5piv6KaB6L+b6KGM5pa55rOV5pu/5o2i55qEIENsYXNz77yM56ys5LqM5Liq5Y+C5pWw5piv6KKr5pu/5o2i5pa55rOV55qEIFNFTO+8jOesrOS4ieS4quWPguaVsOaYr+i/m+ihjOabv+aNoueahOaWueazleeahCBJTVDvvIznrKzlm5vkuKrlj4LmlbDmmK/nsbvlnovnvJbnoIHvvIzov5Tlm57lgLzmmK/ooqvmm7/mjaLnmoTmlrnms5Xljp/mnaXnmoQgSU1Q44CCCiAgICAvLyDlpoLmnpwgQ2xhc3Mg5Lit5rKh5pyJ6KaB6KKr5pu/5o2i55qEU0VM77yM6YKj5LmI6L+Z5Liq5pa55rOV5ZKMY2xhc3NfYWRkTWV0aG9kIOWwseaYr+S4gOagt+eahAogICAgSU1QIG9yaWdpbmFsSW1wbGVtZW50YXRpb24gPSBjbGFzc19yZXBsYWNlTWV0aG9kKGtsYXNzLCBAc2VsZWN0b3IoZm9yd2FyZEludm9jYXRpb246KSwgKElNUClfX0FTUEVDVFNfQVJFX0JFSU5HX0NBTExFRF9fLCAmcXVvdDt2QDpAJnF1b3Q7KTsKICAgIGlmIChvcmlnaW5hbEltcGxlbWVudGF0aW9uKSB7CiAgICAgICAgLy8g5ZCRIENsYXNzIOS4rea3u+WKoOS4gOS4quaWsOeahOaWueazlUFzcGVjdHNGb3J3YXJkSW52b2NhdGlvblNlbGVjdG9yTmFtZe+8jOS5n+WwseaYr19fYXNwZWN0c19mb3J3YXJkSW52b2NhdGlvbjrvvIzogIzlroPnmoRJTVDlsLHmmK/ljp/mnaXnmoRmb3J3YXJkSW52b2NhdGlvbjrnmoQgSU1QCiAgICAgICAgY2xhc3NfYWRkTWV0aG9kKGtsYXNzLCBOU1NlbGVjdG9yRnJvbVN0cmluZyhBc3BlY3RzRm9yd2FyZEludm9jYXRpb25TZWxlY3Rvck5hbWUpLCBvcmlnaW5hbEltcGxlbWVudGF0aW9uLCAmcXVvdDt2QDpAJnF1b3Q7KTsKICAgIH0KICAgIEFzcGVjdExvZyhAJnF1b3Q7QXNwZWN0czogJUAgaXMgbm93IGFzcGVjdCBhd2FyZS4mcXVvdDssIE5TU3RyaW5nRnJvbUNsYXNzKGtsYXNzKSk7Cn0KCnN0YXRpYyB2b2lkIGFzcGVjdF9ob29rZWRHZXRDbGFzcyhDbGFzcyBjbGFzcywgQ2xhc3Mgc3RhdGVkQ2xhc3MpIHsKICAgIE5TQ1BhcmFtZXRlckFzc2VydChjbGFzcyk7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoc3RhdGVkQ2xhc3MpOwogICAgCiAgIC8vIOiOt+W+l2NsYXNzIOWOn+adpeeahCBjbGFzcyDmlrnms5UKCU1ldGhvZCBtZXRob2QgPSBjbGFzc19nZXRJbnN0YW5jZU1ldGhvZChjbGFzcywgQHNlbGVjdG9yKGNsYXNzKSk7CgkvLyDliJvlu7rkuIDkuKrmlrDnmoQgSU1QCglJTVAgbmV3SU1QID0gaW1wX2ltcGxlbWVudGF0aW9uV2l0aEJsb2NrKF4oaWQgc2VsZikgewoJCXJldHVybiBzdGF0ZWRDbGFzczsKCX0pOwoJLy8g5bCGY2xhc3Mg55qE5a6e546w55So5oiR5Lus5paw5Yib5bu655qEIElNUCDmnaXmm7/mjaIKCWNsYXNzX3JlcGxhY2VNZXRob2QoY2xhc3MsIEBzZWxlY3RvcihjbGFzcyksIG5ld0lNUCwgbWV0aG9kX2dldFR5cGVFbmNvZGluZyhtZXRob2QpKTsKfQo8L2NvZGU+PC9wcmU+CjwhLS1iZWZvcmVlbmQtLT48L2Rpdj48IS0tYWZ0ZXJlbmQtLT48cD7nrKwoMinmraXvvIzosIPnlKjkuoY8Y29kZT5hc3BlY3RfaXNNc2dGb3J3YXJkSU1QPC9jb2RlPuadpeWIpOaWreaIkeS7rOimgeabv+aNoueahCBTRUwg55qEIElNUCDmmK/kuI3mmK88Y29kZT5fb2JqY19tc2dGb3J3YXJkPC9jb2RlPu+8jOWmguaenOS4jeaYr+aJjeS8mui/m+ihjOesrCgzKeOAgSg0KeatpeeahOaTjeS9nDwvcD4KPCEtLWJlZm9yZWJlZ2luLS0+PGRpdiBjbGFzcz0ibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIj48IS0tYWZ0ZXJiZWdpbi0tPjxwcmUgdi1wcmUgY2xhc3M9Imxhbmd1YWdlLXRleHQiPjxjb2RlPnN0YXRpYyBCT09MIGFzcGVjdF9pc01zZ0ZvcndhcmRJTVAoSU1QIGltcGwpIHsKICAgIHJldHVybiBpbXBsID09IF9vYmpjX21zZ0ZvcndhcmQKI2lmICFkZWZpbmVkKF9fYXJtNjRfXykKICAgIHx8IGltcGwgPT0gKElNUClfb2JqY19tc2dGb3J3YXJkX3N0cmV0CiNlbmRpZgogICAgOwp9CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPuesrCgzKeatpe+8jOWIm+W7uuWHuuS4gOS4quaWsOeahCBTRUzvvIzov5nkuKrmlrDnmoQgU0VMIOaYr+eUseiiq+abv+aNoueahCBTRUwg55qE5a2X56ym5Liy5Yqg5LiK5LiA5Liq54m55a6a5YmN57yA5a2X56ym5Liy55Sf5oiQ55qE77yM54S25ZCO5bCG5a6D5re75Yqg5Yiw5LiK6Z2i5paw5Yib5bu655qE57G75Lit77yaPC9wPgo8IS0tYmVmb3JlYmVnaW4tLT48ZGl2IGNsYXNzPSJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiPjwhLS1hZnRlcmJlZ2luLS0+PHByZSB2LXByZSBjbGFzcz0ibGFuZ3VhZ2UtdGV4dCI+PGNvZGU+c3RhdGljIFNFTCBhc3BlY3RfYWxpYXNGb3JTZWxlY3RvcihTRUwgc2VsZWN0b3IpIHsKICAgIE5TQ1BhcmFtZXRlckFzc2VydChzZWxlY3Rvcik7CglyZXR1cm4gTlNTZWxlY3RvckZyb21TdHJpbmcoW0FzcGVjdHNNZXNzYWdlUHJlZml4IHN0cmluZ0J5QXBwZW5kaW5nRm9ybWF0OkAmcXVvdDtfJUAmcXVvdDssIE5TU3RyaW5nRnJvbVNlbGVjdG9yKHNlbGVjdG9yKV0pOwp9CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPuesrCg0Keatpe+8jOWwhnNlbGVjdG9yIOWvueW6lOeahOWunueOsCBJTVAg5pu/5o2i5Li6PGNvZGU+X29iamNfbXNnRm9yd2FyZDwvY29kZT7vvJo8L3A+CjwhLS1iZWZvcmViZWdpbi0tPjxkaXYgY2xhc3M9Imxhbmd1YWdlLSBleHRyYS1jbGFzcyI+PCEtLWFmdGVyYmVnaW4tLT48cHJlIHYtcHJlIGNsYXNzPSJsYW5ndWFnZS10ZXh0Ij48Y29kZT5jbGFzc19yZXBsYWNlTWV0aG9kKGtsYXNzLCBzZWxlY3RvciwgYXNwZWN0X2dldE1zZ0ZvcndhcmRJTVAoc2VsZiwgc2VsZWN0b3IpLCB0eXBlRW5jb2RpbmcpOwoKc3RhdGljIElNUCBhc3BlY3RfZ2V0TXNnRm9yd2FyZElNUChOU09iamVjdCAqc2VsZiwgU0VMIHNlbGVjdG9yKSB7CiAgICBJTVAgbXNnRm9yd2FyZElNUCA9IF9vYmpjX21zZ0ZvcndhcmQ7CiNpZiAhZGVmaW5lZChfX2FybTY0X18pCiAgICAvLyBBcyBhbiB1Z2x5IGludGVybmFsIHJ1bnRpbWUgaW1wbGVtZW50YXRpb24gZGV0YWlsIGluIHRoZSAzMmJpdCBydW50aW1lLCB3ZSBuZWVkIHRvIGRldGVybWluZSBvZiB0aGUgbWV0aG9kIHdlIGhvb2sgcmV0dXJucyBhIHN0cnVjdCBvciBhbnl0aGluZyBsYXJnZXIgdGhhbiBpZC4KICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL0RldmVsb3BlclRvb2xzL0NvbmNlcHR1YWwvTG93TGV2ZWxBQkkvMDAwLUludHJvZHVjdGlvbi9pbnRyb2R1Y3Rpb24uaHRtbAogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlQ29jb2EvUmVhY3RpdmVDb2NvYS9pc3N1ZXMvNzgzCiAgICAvLyBodHRwOi8vaW5mb2NlbnRlci5hcm0uY29tL2hlbHAvdG9waWMvY29tLmFybS5kb2MuaWhpMDA0MmUvSUhJMDA0MkVfYWFwY3MucGRmIChTZWN0aW9uIDUuNCkKICAgIE1ldGhvZCBtZXRob2QgPSBjbGFzc19nZXRJbnN0YW5jZU1ldGhvZChzZWxmLmNsYXNzLCBzZWxlY3Rvcik7CiAgICBjb25zdCBjaGFyICplbmNvZGluZyA9IG1ldGhvZF9nZXRUeXBlRW5jb2RpbmcobWV0aG9kKTsKICAgIEJPT0wgbWV0aG9kUmV0dXJuc1N0cnVjdFZhbHVlID0gZW5jb2RpbmdbMF0gPT0gX0NfU1RSVUNUX0I7CiAgICBpZiAobWV0aG9kUmV0dXJuc1N0cnVjdFZhbHVlKSB7CiAgICAgICAgQHRyeSB7CiAgICAgICAgICAgIE5TVUludGVnZXIgdmFsdWVTaXplID0gMDsKICAgICAgICAgICAgTlNHZXRTaXplQW5kQWxpZ25tZW50KGVuY29kaW5nLCAmYW1wO3ZhbHVlU2l6ZSwgTlVMTCk7CgogICAgICAgICAgICBpZiAodmFsdWVTaXplID09IDEgfHwgdmFsdWVTaXplID09IDIgfHwgdmFsdWVTaXplID09IDQgfHwgdmFsdWVTaXplID09IDgpIHsKICAgICAgICAgICAgICAgIG1ldGhvZFJldHVybnNTdHJ1Y3RWYWx1ZSA9IE5POwogICAgICAgICAgICB9CiAgICAgICAgfSBAY2F0Y2ggKF9fdW51c2VkIE5TRXhjZXB0aW9uICplKSB7fQogICAgfQogICAgaWYgKG1ldGhvZFJldHVybnNTdHJ1Y3RWYWx1ZSkgewogICAgICAgIG1zZ0ZvcndhcmRJTVAgPSAoSU1QKV9vYmpjX21zZ0ZvcndhcmRfc3RyZXQ7CiAgICB9CiNlbmRpZgogICAgcmV0dXJuIG1zZ0ZvcndhcmRJTVA7Cn0KPC9jb2RlPjwvcHJlPgo8IS0tYmVmb3JlZW5kLS0+PC9kaXY+PCEtLWFmdGVyZW5kLS0+PHA+5omA5Lul5oiR5Lus5Y+v5Lul5oC757uT5LiL56ysNuatpei/meS4quaWueazleWBmuS6huS7gOS5iOS6i+aDhe+8mgooMSkg5Yib5bu65LqG5LiA5Liq5paw55qE57G777yM54S25ZCO5bCG6L+Z5Liq5paw57G755qEPGNvZGU+Zm9yd2FyZEludm9jYXRpb246PC9jb2RlPiDlrp7njrDmm7/mjaLkuLrkuoY8Y29kZT5fX0FTUEVDVFNfQVJFX0JFSU5HX0NBTExFRF9fPC9jb2RlPu+8jOW5tuS4lOWwhui/meS4quaWsOexu+eahOexu+WvueixoeWSjOWFg+exu+eahCBjbGFzcyDkv67mlLnkuLrljp/mnaXnmoTnsbvvvIzmnIDlkI7lsIYgc2VsZiDmiYDlsZ7nmoTnsbvkv67mlLnkuLrmlrDnsbvjgIIKKDIpIOWwhiBzZWxlY3RvciDlr7nlupTnmoQgSU1QIOWunueOsOabv+aNouS4ujxjb2RlPmZvcndhcmRJbnZvY2F0aW9uOjwvY29kZT7jgIIK5Lul5LiK5LuL57uN55qEMX425q2l77yM5a6M5oiQ5LqGIEhvb2sg55qE5Yqo5L2c44CC6YKj5LmI5Zyo6KKrIEhvb2sg55qE5a+56LGh5omn6KGM6KKr5pu/5o2i55qE5pa55rOV5pe277yM6L+Q6KGM5pe25bCx5Lya6L2s6ICM5omn6KGMPGNvZGU+X19BU1BFQ1RTX0FSRV9CRUlOR19DQUxMRURfXzwvY29kZT7ov5nkuKrmlrnms5XjgILmjqXkuIvmnaXmiJHku6znnIvkuIvov5nkuKrmlrnms5Xph4zmnInku4DkuYjlpaXnp5jjgII8L3A+CjwhLS1iZWZvcmViZWdpbi0tPjxkaXYgY2xhc3M9Imxhbmd1YWdlLSBleHRyYS1jbGFzcyI+PCEtLWFmdGVyYmVnaW4tLT48cHJlIHYtcHJlIGNsYXNzPSJsYW5ndWFnZS10ZXh0Ij48Y29kZT5zdGF0aWMgdm9pZCBfX0FTUEVDVFNfQVJFX0JFSU5HX0NBTExFRF9fKF9fdW5zYWZlX3VucmV0YWluZWQgTlNPYmplY3QgKnNlbGYsIFNFTCBzZWxlY3RvciwgTlNJbnZvY2F0aW9uICppbnZvY2F0aW9uKSB7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoc2VsZik7CiAgICBOU0NQYXJhbWV0ZXJBc3NlcnQoaW52b2NhdGlvbik7CiAgICBTRUwgb3JpZ2luYWxTZWxlY3RvciA9IGludm9jYXRpb24uc2VsZWN0b3I7CiAgICAvLyDnu5lpbnZvY2F0aW9uLnNlbGVjdG9yIOeahCBuYW1lIOa3u+WKoOS6hmFzcGVjdHNf5YmN57yACglTRUwgYWxpYXNTZWxlY3RvciA9IGFzcGVjdF9hbGlhc0ZvclNlbGVjdG9yKGludm9jYXRpb24uc2VsZWN0b3IpOwoJCiAgICBpbnZvY2F0aW9uLnNlbGVjdG9yID0gYWxpYXNTZWxlY3RvcjsKICAgIAogICAgLy8gQXNwZWN0c0NvbnRhaW5lciDlkowgU0VMIOaYr+WcqOesrDPmraXkuK3pgJrov4flhbPogZTlr7nosaHmioDmnK/lhbPogZTliLDkuIDotbfnmoQKICAgIEFzcGVjdHNDb250YWluZXIgKm9iamVjdENvbnRhaW5lciA9IG9iamNfZ2V0QXNzb2NpYXRlZE9iamVjdChzZWxmLCBhbGlhc1NlbGVjdG9yKTsKICAgIEFzcGVjdHNDb250YWluZXIgKmNsYXNzQ29udGFpbmVyID0gYXNwZWN0X2dldENvbnRhaW5lckZvckNsYXNzKG9iamVjdF9nZXRDbGFzcyhzZWxmKSwgYWxpYXNTZWxlY3Rvcik7CiAgICBBc3BlY3RJbmZvICppbmZvID0gW1tBc3BlY3RJbmZvIGFsbG9jXSBpbml0V2l0aEluc3RhbmNlOnNlbGYgaW52b2NhdGlvbjppbnZvY2F0aW9uXTsKICAgIE5TQXJyYXkgKmFzcGVjdHNUb1JlbW92ZSA9IG5pbDsKCiAgICAvLyDlnKjnrKw15q2l5Lit77yM5qC55o2ub3B0aW9uc+eahOiuvue9ru+8jEFzcGVjdElkZW50aWZpZXIg5Lya6KKr5Yqg5YWl5YiwY29udGFpbmVyIOeahGJlZm9yZUFzcGVjdHPjgIFpbnN0ZWFkQXNwZWN0c+aIlmFmdGVyQXNwZWN0c+S4rQogICAgCiAgICAKICAgIC8vIEJlZm9yZSBob29rcy4KICAgIC8vIOWFiOaJp+ihjCBIb29rIOaXtuacuuS4uuiwg+eUqOWOn+aWueazleS5i+WJjeeahOaWueazlQogICAgYXNwZWN0X2ludm9rZShjbGFzc0NvbnRhaW5lci5iZWZvcmVBc3BlY3RzLCBpbmZvKTsKICAgIGFzcGVjdF9pbnZva2Uob2JqZWN0Q29udGFpbmVyLmJlZm9yZUFzcGVjdHMsIGluZm8pOwoKICAgIC8vIEluc3RlYWQgaG9va3MuCiAgICBCT09MIHJlc3BvbmRzVG9BbGlhcyA9IFlFUzsKICAgIGlmIChvYmplY3RDb250YWluZXIuaW5zdGVhZEFzcGVjdHMuY291bnQgfHwgY2xhc3NDb250YWluZXIuaW5zdGVhZEFzcGVjdHMuY291bnQpIHsKICAgIAogICAgICAgIC8v5aaC5p6cIG9wdGlvbiDkuLrmm7/ku6Pljp/mlrnms5XvvIzpgqPkuYjov5nph4zmiafooYzmm7/ku6Pmlrnms5XvvIzljp/mlrnms5XkuI3miafooYwKICAgICAgICBhc3BlY3RfaW52b2tlKGNsYXNzQ29udGFpbmVyLmluc3RlYWRBc3BlY3RzLCBpbmZvKTsKICAgICAgICBhc3BlY3RfaW52b2tlKG9iamVjdENvbnRhaW5lci5pbnN0ZWFkQXNwZWN0cywgaW5mbyk7CiAgICB9ZWxzZSB7CiAgICAKICAgICAgICAvLyDlpoLmnpwgb3B0aW9uIOS4jeaYr+abv+S7o+WOn+aWueazle+8jOmCo+S5iOWcqOi/memHjOWOu+aJp+ihjOWOn+adpeeahOaWueazlQogICAgICAgIENsYXNzIGtsYXNzID0gb2JqZWN0X2dldENsYXNzKGludm9jYXRpb24udGFyZ2V0KTsKICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIOaIkeS7rOWcqOesrDbmraXnmoTnrKwoMynmraXkuK3lkJHmlrDliJvlu7rlh7rnmoTnsbvpgJrov4djbGFzc19hZGRNZXRob2Tmt7vliqDkuoZhbGlhc1NlbGVjdG9yCiAgICAgICAgICAgIGlmICgocmVzcG9uZHNUb0FsaWFzID0gW2tsYXNzIGluc3RhbmNlc1Jlc3BvbmRUb1NlbGVjdG9yOmFsaWFzU2VsZWN0b3JdKSkgewogICAgICAgICAgICAgICAgW2ludm9jYXRpb24gaW52b2tlXTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfXdoaWxlICghcmVzcG9uZHNUb0FsaWFzICZhbXA7JmFtcDsgKGtsYXNzID0gY2xhc3NfZ2V0U3VwZXJjbGFzcyhrbGFzcykpKTsKICAgIH0KCiAgICAvLyBBZnRlciBob29rcy4KICAgIC8vIOWOn+aWueazleW3sue7j+aJp+ihjOWujOS6hu+8jOWcqOi/memHjOaJp+ihjCBIb29rIOaXtuacuuS4uuiwg+eUqOWOn+aWueazleS5i+WQjueahOaWueazlQogICAgYXNwZWN0X2ludm9rZShjbGFzc0NvbnRhaW5lci5hZnRlckFzcGVjdHMsIGluZm8pOwogICAgYXNwZWN0X2ludm9rZShvYmplY3RDb250YWluZXIuYWZ0ZXJBc3BlY3RzLCBpbmZvKTsKCiAgICAvLyBJZiBubyBob29rcyBhcmUgaW5zdGFsbGVkLCBjYWxsIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uICh1c3VhbGx5IHRvIHRocm93IGFuIGV4Y2VwdGlvbikKICAgIC8vIOWmguaenOayoeacieWuieijheS7u+S9lemSqeWtkOWHveaVsO+8iOS5n+WwseaYr+ayoeaciei/m+ihjOaWueazlSBIb29r77yJ77yM6YKj5LmI5bCx6LCD55So5Y6f5p2l55qE5pa55rOVCiAgICBpZiAoIXJlc3BvbmRzVG9BbGlhcykgewogICAgICAgIGludm9jYXRpb24uc2VsZWN0b3IgPSBvcmlnaW5hbFNlbGVjdG9yOwogICAgICAgIFNFTCBvcmlnaW5hbEZvcndhcmRJbnZvY2F0aW9uU0VMID0gTlNTZWxlY3RvckZyb21TdHJpbmcoQXNwZWN0c0ZvcndhcmRJbnZvY2F0aW9uU2VsZWN0b3JOYW1lKTsKICAgICAgICBpZiAoW3NlbGYgcmVzcG9uZHNUb1NlbGVjdG9yOm9yaWdpbmFsRm9yd2FyZEludm9jYXRpb25TRUxdKSB7CiAgICAgICAgICAgICgodm9pZCggKikoaWQsIFNFTCwgTlNJbnZvY2F0aW9uICopKW9iamNfbXNnU2VuZCkoc2VsZiwgb3JpZ2luYWxGb3J3YXJkSW52b2NhdGlvblNFTCwgaW52b2NhdGlvbik7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgICBbc2VsZiBkb2VzTm90UmVjb2duaXplU2VsZWN0b3I6aW52b2NhdGlvbi5zZWxlY3Rvcl07CiAgICAgICAgfQogICAgfQoKICAgIC8vIFJlbW92ZSBhbnkgaG9va3MgdGhhdCBhcmUgcXVldWVkIGZvciBkZXJlZ2lzdHJhdGlvbi4KICAgIFthc3BlY3RzVG9SZW1vdmUgbWFrZU9iamVjdHNQZXJmb3JtU2VsZWN0b3I6QHNlbGVjdG9yKHJlbW92ZSldOwp9CjwvY29kZT48L3ByZT4KPCEtLWJlZm9yZWVuZC0tPjwvZGl2PjwhLS1hZnRlcmVuZC0tPjxwPuaJgOS7pei/meS4quaWueazleeahOS9nOeUqOWwseaYr+agueaNriBvcHRpb24g55qE6K6+572u77yM5Zyo5ZCI6YCC55qE5pe25py66LCD55So5Y6f5p2l55qE5pa55rOV5a6e546w5Lul5Y+K5oiR5Lus55qE6ZKp5a2Q5Ye95pWw44CCCuS7peS4iuWwseaYryBBc3BlY3Rz6L+Z5Liq5bqT6L+b6KGM5pa55rOVIEhvb2sg55qE5Z+65pys5Y6f55CG5LqG44CCPC9wPgo8L0NvbnRlbnRTbG90c0Rpc3RyaWJ1dG9yPgo="},null]}